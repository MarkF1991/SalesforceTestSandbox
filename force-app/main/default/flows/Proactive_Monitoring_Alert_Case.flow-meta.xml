<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Copy_4_of_Update_Approx_Event_Date</name>
        <label>Copy 4 of Update Approx Event Date</label>
        <locationX>314</locationX>
        <locationY>2246</locationY>
        <actionName>DaylightSavingFixdForDateTimeController</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>dt1</name>
            <value>
                <elementReference>getDataFromJSONString.Value14</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>dt2</name>
            <value>
                <elementReference>getDataFromJSONString.Value15</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>id</name>
            <value>
                <elementReference>Create_following_child_cluster_case_alert_FIREWALLDOWN</elementReference>
            </value>
        </inputParameters>
        <nameSegment>DaylightSavingFixdForDateTimeController</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Copy_6_of_Update_Approx_Event_Date</name>
        <label>Copy 6 of Update Approx Event Date</label>
        <locationX>578</locationX>
        <locationY>2138</locationY>
        <actionName>DaylightSavingFixdForDateTimeController</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>dt1</name>
            <value>
                <elementReference>getDataFromJSONString.Value14</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>dt2</name>
            <value>
                <elementReference>getDataFromJSONString.Value15</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>id</name>
            <value>
                <elementReference>Create_following_child_cluster_case_alert_OTHERTYPE</elementReference>
            </value>
        </inputParameters>
        <nameSegment>DaylightSavingFixdForDateTimeController</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Get_Value_From_Outages_String</name>
        <label>Get Value From Outages String</label>
        <locationX>1458</locationX>
        <locationY>890</locationY>
        <actionName>MultipleJSONParser</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Loop_Through_the_Outage_Collection</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>fieldName1</name>
            <value>
                <stringValue>dateStart</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName2</name>
            <value>
                <stringValue>dateEnd</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName3</name>
            <value>
                <stringValue>whenCreated</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName4</name>
            <value>
                <stringValue>whenCompleted</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName5</name>
            <value>
                <stringValue>reason</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>ignore_error</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>jsonStringToParse</name>
            <value>
                <elementReference>Loop_Through_the_Outage_Collection</elementReference>
            </value>
        </inputParameters>
        <nameSegment>MultipleJSONParser</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Get_value_from_the_comments</name>
        <label>Get value from the comments</label>
        <locationX>1458</locationX>
        <locationY>1190</locationY>
        <actionName>MultipleJSONParser</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Loop_through_the_comments</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>fieldName1</name>
            <value>
                <stringValue>text</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName2</name>
            <value>
                <stringValue>whoCreated</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>ignore_error</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>jsonStringToParse</name>
            <value>
                <elementReference>Loop_through_the_comments</elementReference>
            </value>
        </inputParameters>
        <nameSegment>MultipleJSONParser</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>getDataFromJSONString</name>
        <label>getDataFromJSONString</label>
        <locationX>1370</locationX>
        <locationY>566</locationY>
        <actionName>MultipleJSONParser</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Outage_Collection</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>fieldName1</name>
            <value>
                <stringValue>_id</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName2</name>
            <value>
                <stringValue>schoolSalesforceId</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName3</name>
            <value>
                <stringValue>reason</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName4</name>
            <value>
                <stringValue>alertDescription</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName5</name>
            <value>
                <stringValue>alertType</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName6</name>
            <value>
                <stringValue>links</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName7</name>
            <value>
                <stringValue>status</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName8</name>
            <value>
                <stringValue>outages</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName9</name>
            <value>
                <stringValue>alertClusterId</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName10</name>
            <value>
                <stringValue>comments</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName11</name>
            <value>
                <stringValue>salesforceLinks.Event Manager Link</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName12</name>
            <value>
                <stringValue>salesforceLinks.Source System Link</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName13</name>
            <value>
                <stringValue>salesforceLinks.Grafana Link</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName14</name>
            <value>
                <stringValue>approxEventDate</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName15</name>
            <value>
                <stringValue>approxClosedDate</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName16</name>
            <value>
                <stringValue>subject</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>ignore_error</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>jsonStringToParse</name>
            <value>
                <elementReference>PlatformServicesIntegrationRecords.Data__c</elementReference>
            </value>
        </inputParameters>
        <nameSegment>MultipleJSONParser</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Outage_Collection</name>
        <label>Outage Collection</label>
        <locationX>1370</locationX>
        <locationY>674</locationY>
        <actionName>JSONToCollection</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Loop_Through_the_Outage_Collection</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>jsonStringToConvert</name>
            <value>
                <elementReference>getDataFromJSONString.Value08</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>jsonStringToConvert03</name>
            <value>
                <elementReference>getDataFromJSONString.Value10</elementReference>
            </value>
        </inputParameters>
        <nameSegment>JSONToCollection</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Update_Approx_Event_Date</name>
        <label>Update Approx Event Date</label>
        <locationX>1766</locationX>
        <locationY>1814</locationY>
        <actionName>DaylightSavingFixdForDateTimeController</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Get_latest_Alert_case_info</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>dt1</name>
            <value>
                <elementReference>getDataFromJSONString.Value14</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>dt2</name>
            <value>
                <elementReference>getDataFromJSONString.Value15</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>id</name>
            <value>
                <elementReference>Get_Alert_If_it_is_existing.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>DaylightSavingFixdForDateTimeController</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Update_Approx_Event_Date_for_child_Cluster</name>
        <label>Update Approx Event Date for child Cluster</label>
        <locationX>842</locationX>
        <locationY>1814</locationY>
        <actionName>DaylightSavingFixdForDateTimeController</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>dt1</name>
            <value>
                <elementReference>getDataFromJSONString.Value14</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>dt2</name>
            <value>
                <elementReference>getDataFromJSONString.Value15</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>id</name>
            <value>
                <elementReference>Create_child_cluster_case_alert</elementReference>
            </value>
        </inputParameters>
        <nameSegment>DaylightSavingFixdForDateTimeController</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Update_Approx_Event_Date_for_Non_Cluster</name>
        <label>Update Approx Event Date for Non Cluster</label>
        <locationX>50</locationX>
        <locationY>1814</locationY>
        <actionName>DaylightSavingFixdForDateTimeController</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>dt1</name>
            <value>
                <elementReference>getDataFromJSONString.Value14</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>dt2</name>
            <value>
                <elementReference>getDataFromJSONString.Value15</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>id</name>
            <value>
                <elementReference>Create_Non_Cluster_Alert_Record_0_0</elementReference>
            </value>
        </inputParameters>
        <nameSegment>DaylightSavingFixdForDateTimeController</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Update_Approx_Event_Date_for_parent_1</name>
        <label>Update Approx Event Date for parent 1</label>
        <locationX>314</locationX>
        <locationY>2030</locationY>
        <actionName>DaylightSavingFixdForDateTimeController</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Create_following_child_cluster_case_alert_FIREWALLDOWN</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>dt1</name>
            <value>
                <elementReference>getDataFromJSONString.Value14</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>dt2</name>
            <value>
                <elementReference>getDataFromJSONString.Value15</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>id</name>
            <value>
                <elementReference>Create_Parent_Cluster_Case_Alert_FirewallDown</elementReference>
            </value>
        </inputParameters>
        <nameSegment>DaylightSavingFixdForDateTimeController</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Update_Approx_Event_Date_for_parent_2</name>
        <label>Update Approx Event Date for parent 2</label>
        <locationX>578</locationX>
        <locationY>1922</locationY>
        <actionName>DaylightSavingFixdForDateTimeController</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Create_following_child_cluster_case_alert_OTHERTYPE</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>dt1</name>
            <value>
                <elementReference>getDataFromJSONString.Value14</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>dt2</name>
            <value>
                <elementReference>getDataFromJSONString.Value15</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>id</name>
            <value>
                <elementReference>Create_Parent_Cluster_Case_Alert_Other_Type</elementReference>
            </value>
        </inputParameters>
        <nameSegment>DaylightSavingFixdForDateTimeController</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>53.0</apiVersion>
    <assignments>
        <description>To check the number of open cases in the decision element.</description>
        <name>Assign_number_of_open_child_cases_to_variable</name>
        <label>Assign number of open child cases to variable</label>
        <locationX>1766</locationX>
        <locationY>2354</locationY>
        <assignmentItems>
            <assignToReference>numberOfOpenChildCases</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Get_all_alert_status_open_cluster_cases</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_parent_case_if_all_child_cases_status_updated_to_closed_also_for_non_clus</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>To check the number of cases in the decision element.</description>
        <name>Assign_number_of_Status_Open_child_cases_to_variable</name>
        <label>Assign number of Status = Open child cases to variable</label>
        <locationX>1766</locationX>
        <locationY>2138</locationY>
        <assignmentItems>
            <assignToReference>numberOfOpenStatusChildCases</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Get_all_open_child_cases_by_status</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_all_alert_status_open_cluster_cases</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Distinguish_Create_or_Update</name>
        <label>Distinguish Create or Update</label>
        <locationX>1370</locationX>
        <locationY>1598</locationY>
        <defaultConnectorLabel>To the end</defaultConnectorLabel>
        <rules>
            <name>Create_Non_Cluster_Alert</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Alert_If_it_is_existing</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>getDataFromJSONString.Value09</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Non_Cluster_Alert_Record_0_0</targetReference>
            </connector>
            <label>Create Non Cluster Alert</label>
        </rules>
        <rules>
            <name>Create_Parent_Cluster_Alert</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Alert_If_it_is_existing</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>getDataFromJSONString.Value09</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Alert_If_ClusterId_Exist_in_Sys</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>If_the_alert_is_firewall_down</targetReference>
            </connector>
            <label>Create Parent Cluster Alert</label>
        </rules>
        <rules>
            <name>Create_Child_Cluster_Alert</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Alert_If_it_is_existing</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>getDataFromJSONString.Value09</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Alert_If_ClusterId_Exist_in_Sys</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_child_cluster_case_alert</targetReference>
            </connector>
            <label>Create Child Cluster Alert</label>
        </rules>
        <rules>
            <name>Update_Current_Alert</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_Alert_If_it_is_existing</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Existing_Alert_Record</targetReference>
            </connector>
            <label>Update Current Alert</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_the_alert_is_firewall_down</name>
        <label>If the alert is firewall down</label>
        <locationX>446</locationX>
        <locationY>1706</locationY>
        <defaultConnector>
            <targetReference>Create_Parent_Cluster_Case_Alert_Other_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Firewall_Down</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>getDataFromJSONString.Value05</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>FIREWALLDOWN</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>GetDummySchoolForFirewallDownAlert_0</targetReference>
            </connector>
            <label>Firewall Down</label>
        </rules>
    </decisions>
    <decisions>
        <name>Update_parent_case_if_all_child_cases_status_updated_to_closed_also_for_non_clus</name>
        <label>Update parent case if all child cases status updated to closed also for non cluster one</label>
        <locationX>1766</locationX>
        <locationY>2462</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Change_parent_status_to_New_when_alert_status_to_opened</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Alert_If_ClusterId_Exist_in_Sys.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>On-Hold - Planned</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>getDataFromJSONString.Value07</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Open</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_the_parent_case_status_to_new_when_alert_status_is_opened</targetReference>
            </connector>
            <label>Change parent status to New when alert status to opened</label>
        </rules>
        <rules>
            <name>Update_nonCluster_case_status_to_New_when_alert_status_changed_to_Open</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Alert_If_it_is_existing</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_latest_Alert_case_info.Alert_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Open</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>getDataFromJSONString.Value09</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Alert_If_it_is_existing.ParentId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_the_non_cluster_case_status_to_new_when_alert_status_is_Open</targetReference>
            </connector>
            <label>Update nonCluster case status to New when alert status changed to Open</label>
        </rules>
        <rules>
            <name>Update_parent_case_to_Open_when_all_child_cases_alert_case_status_to_open</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_all_alert_status_open_cluster_cases</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_the_parent_case_alert_status_to_open</targetReference>
            </connector>
            <label>Update parent case to Open when all child cases alert case status to open</label>
        </rules>
        <rules>
            <name>Close_parent_case_if_all_child_cases_closed</name>
            <conditionLogic>(1 OR 4) AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>Get_all_open_child_cases_by_status</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Alert_If_ClusterId_Exist_in_Sys.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Alert_If_ClusterId_Exist_in_Sys.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>On-Hold - Planned</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>numberOfOpenStatusChildCases</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_the_parent_case_status_and_alert_status_to_closed</targetReference>
            </connector>
            <label>Close parent case if all child cases closed</label>
        </rules>
        <rules>
            <name>Change_parent_alert_status_to_closed_when_all_child_cases_are_closed</name>
            <conditionLogic>(1 OR 2) AND 3 AND 4</conditionLogic>
            <conditions>
                <leftValueReference>Get_all_alert_status_open_cluster_cases</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>numberOfOpenChildCases</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Alert_If_ClusterId_Exist_in_Sys</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Alert_If_ClusterId_Exist_in_Sys.Alert_Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_the_parent_case_alert_status_to_closed</targetReference>
            </connector>
            <label>Change parent alert status to &apos;closed&apos; when all child cases are closed</label>
        </rules>
    </decisions>
    <description>V37: Remove database access from loop
To handle AP down logic</description>
    <environments>Default</environments>
    <formulas>
        <name>AlertComments</name>
        <dataType>String</dataType>
        <expression>IF( 
ISBLANK({!Get_value_from_the_comments.Value01}),&apos; &apos;, &quot;Text: &quot; &amp; {!Get_value_from_the_comments.Value01} &amp;BR() &amp; &quot; whoCreated: &quot; &amp; {!Get_value_from_the_comments.Value02})</expression>
    </formulas>
    <formulas>
        <name>AlertSubject</name>
        <dataType>String</dataType>
        <expression>&quot;Proactive Firewall Monitoring - &quot; &amp; {!getDataFromJSONString.Value05} &amp; &quot; - &quot; &amp; {!getDataFromJSONString.Value03}</expression>
    </formulas>
    <formulas>
        <name>approxClosedDate</name>
        <dataType>DateTime</dataType>
        <expression>DATETIMEVALUE({!getDataFromJSONString.Value15}) - (12/24)</expression>
    </formulas>
    <formulas>
        <name>approxEventDate</name>
        <dataType>DateTime</dataType>
        <expression>DATETIMEVALUE({!getDataFromJSONString.Value14}) - (12/24)</expression>
    </formulas>
    <formulas>
        <name>caseStatus</name>
        <dataType>String</dataType>
        <expression>if (lower({!getDataFromJSONString.Value07}) = &quot;closed&quot; &amp;&amp;
(lower(TEXT({!Get_Alert_If_it_is_existing.Status})) = &quot;new&quot; ||
lower(TEXT({!Get_Alert_If_it_is_existing.Status})) = &quot;on-hold - child&quot; ||
lower(TEXT({!Get_Alert_If_it_is_existing.Status})) = &quot;on-hold - planned&quot;), &quot;Closed&quot;, 
if (lower({!getDataFromJSONString.Value07}) = &quot;parked&quot;, &quot;On-Hold - Planned&quot;,
TEXT({!Get_Alert_If_it_is_existing.Status})))</expression>
    </formulas>
    <formulas>
        <name>outageDuration</name>
        <dataType>String</dataType>
        <expression>IF(ISNULL({!approxClosedDate}), 
TEXT(FLOOR( (NOW() - {!approxEventDate}) * (24*60) / 1440)) &amp;&apos;Days&apos;&amp; TEXT( FLOOR( MOD( (NOW() - {!approxEventDate}) * (24*60),1440 )  / 60)) &amp;&apos;hr&apos;&amp; 
TEXT(FLOOR(MOD( MOD( (NOW() - {!approxEventDate}) * (24*60),1440),60)))&amp;&apos;min&apos;,

TEXT(FLOOR( ({!approxClosedDate} - {!approxEventDate}) * (24*60) / 1440)) &amp;&apos;Days&apos;&amp; TEXT( FLOOR( MOD( ({!approxClosedDate} - {!approxEventDate}) * (24*60),1440 )  / 60)) &amp;&apos;hr&apos;&amp; 
TEXT(FLOOR(MOD( MOD( ({!approxClosedDate} - {!approxEventDate}) * (24*60),1440),60)))&amp;&apos;min&apos;)</expression>
    </formulas>
    <formulas>
        <name>TestDate1</name>
        <dataType>String</dataType>
        <expression>{!getDataFromJSONString.Value14}</expression>
    </formulas>
    <formulas>
        <description>Helpdesk queue or AP</description>
        <name>WhichQueueWeShouldUse</name>
        <dataType>String</dataType>
        <expression>IF({!getDataFromJSONString.Value05} = &quot;FIREWALLDOWN&quot;, {!Get_Helpdesk_Queue_ID.Id}, 
IF({!getDataFromJSONString.Value05} = &quot;APDOWN&quot;, {!Get_AP_Queue_ID.Id}, {!Get_Helpdesk_Queue_ID.Id}))</expression>
    </formulas>
    <interviewLabel>Proactive Monitoring - Alert Case {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Proactive Monitoring - Alert Case</label>
    <loops>
        <name>Loop_through_the_comments</name>
        <label>Loop through the comments</label>
        <locationX>1370</locationX>
        <locationY>1082</locationY>
        <collectionReference>Outage_Collection.JSONCollection03</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Get_value_from_the_comments</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Alert_If_it_is_existing</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Through_the_Outage_Collection</name>
        <label>Loop Through the Outage Collection</label>
        <locationX>1370</locationX>
        <locationY>782</locationY>
        <collectionReference>Outage_Collection.JSONCollection</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Get_Value_From_Outages_String</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Loop_through_the_comments</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_child_cluster_case_alert</name>
        <label>Create child cluster case alert</label>
        <locationX>842</locationX>
        <locationY>1706</locationY>
        <connector>
            <targetReference>Update_Approx_Event_Date_for_child_Cluster</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>getDataFromJSONString.Value02</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Id__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value07</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Comments__c</field>
            <value>
                <elementReference>AlertComments</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>getDataFromJSONString.Value04</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Grafana_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value13</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Link_to_Event_Manager__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value11</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Origin</field>
            <value>
                <stringValue>Proactive Monitoring System</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>WhichQueueWeShouldUse</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>Get_Alert_If_ClusterId_Exist_in_Sys.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_Alert_Case_Record_Type.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_System_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value12</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>On-Hold - Child</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <elementReference>getDataFromJSONString.Value16</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>getDataFromJSONString.Value05</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>uuid__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_following_child_cluster_case_alert_FIREWALLDOWN</name>
        <label>Create following child cluster case alert</label>
        <locationX>314</locationX>
        <locationY>2138</locationY>
        <connector>
            <targetReference>Copy_4_of_Update_Approx_Event_Date</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>getDataFromJSONString.Value02</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Id__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value07</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Comments__c</field>
            <value>
                <elementReference>AlertComments</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>getDataFromJSONString.Value04</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Grafana_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value13</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Link_to_Event_Manager__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value11</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Origin</field>
            <value>
                <stringValue>Proactive Monitoring System</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Get_Helpdesk_Queue_ID.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>Create_Parent_Cluster_Case_Alert_FirewallDown</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_Alert_Case_Record_Type.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_System_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value12</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>On-Hold - Child</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <elementReference>getDataFromJSONString.Value16</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>getDataFromJSONString.Value05</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>uuid__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_following_child_cluster_case_alert_OTHERTYPE</name>
        <label>Create following child cluster case alert</label>
        <locationX>578</locationX>
        <locationY>2030</locationY>
        <connector>
            <targetReference>Copy_6_of_Update_Approx_Event_Date</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>getDataFromJSONString.Value02</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Id__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value07</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Comments__c</field>
            <value>
                <elementReference>AlertComments</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>getDataFromJSONString.Value04</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Grafana_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value13</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Link_to_Event_Manager__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value11</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Origin</field>
            <value>
                <stringValue>Proactive Monitoring System</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>WhichQueueWeShouldUse</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>Create_Parent_Cluster_Case_Alert_Other_Type</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_Alert_Case_Record_Type.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_System_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value12</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>On-Hold - Child</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <elementReference>getDataFromJSONString.Value16</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>getDataFromJSONString.Value05</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>uuid__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_Non_Cluster_Alert_Record_0_0</name>
        <label>Create Non Cluster Alert Record</label>
        <locationX>50</locationX>
        <locationY>1706</locationY>
        <connector>
            <targetReference>Update_Approx_Event_Date_for_Non_Cluster</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>getDataFromJSONString.Value02</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Id__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value07</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Comments__c</field>
            <value>
                <elementReference>AlertComments</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>getDataFromJSONString.Value04</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Grafana_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value13</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Link_to_Event_Manager__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value11</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Origin</field>
            <value>
                <stringValue>Proactive Monitoring System</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>WhichQueueWeShouldUse</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_Alert_Case_Record_Type.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_System_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value12</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <elementReference>caseStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <elementReference>getDataFromJSONString.Value16</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>getDataFromJSONString.Value05</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>uuid__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_Parent_Cluster_Case_Alert_FirewallDown</name>
        <label>Create Parent Cluster Case Alert - FirewallDown</label>
        <locationX>314</locationX>
        <locationY>1922</locationY>
        <connector>
            <targetReference>Update_Approx_Event_Date_for_parent_1</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>GetDummySchoolForFirewallDownAlert_0.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Id__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value07</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Comments__c</field>
            <value>
                <elementReference>AlertComments</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>getDataFromJSONString.Value04</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Grafana_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value13</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Link_to_Event_Manager__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value11</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Origin</field>
            <value>
                <stringValue>Proactive Monitoring System</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Get_Helpdesk_Queue_ID.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_Alert_Case_Record_Type.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_System_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value12</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <elementReference>caseStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <elementReference>getDataFromJSONString.Value16</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>getDataFromJSONString.Value05</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>uuid__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value09</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_Parent_Cluster_Case_Alert_Other_Type</name>
        <label>Create Parent Cluster Case Alert - Other Type</label>
        <locationX>578</locationX>
        <locationY>1814</locationY>
        <connector>
            <targetReference>Update_Approx_Event_Date_for_parent_2</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>getDataFromJSONString.Value02</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Id__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value07</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Comments__c</field>
            <value>
                <elementReference>AlertComments</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>getDataFromJSONString.Value04</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Grafana_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value13</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Link_to_Event_Manager__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value11</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Origin</field>
            <value>
                <stringValue>Proactive Monitoring System</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>WhichQueueWeShouldUse</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_Alert_Case_Record_Type.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_System_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value12</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <elementReference>caseStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <elementReference>getDataFromJSONString.Value16</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>getDataFromJSONString.Value05</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>uuid__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value09</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <description>Get the &apos;Alert Case&apos; record type ID to create new cases in this flow</description>
        <name>Get_Alert_Case_Record_Type</name>
        <label>Get Alert Case Record Type</label>
        <locationX>1370</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_School_Account_Record_Type</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Case</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Alert_Case</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Alert_If_ClusterId_Exist_in_Sys</name>
        <label>Get Alert If ClusterId Exist in Sys</label>
        <locationX>1370</locationX>
        <locationY>1490</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Distinguish_Create_or_Update</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>uuid__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>getDataFromJSONString.Value09</elementReference>
            </value>
        </filters>
        <filters>
            <field>uuid__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Alert_If_it_is_existing</name>
        <label>Get Alert If It Is Existing</label>
        <locationX>1370</locationX>
        <locationY>1382</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Alert_If_ClusterId_Exist_in_Sys</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>uuid__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get all cases related to this cluster (child cases) where the alert status is open</description>
        <name>Get_all_alert_status_open_cluster_cases</name>
        <label>Get all alert status open cluster cases</label>
        <locationX>1766</locationX>
        <locationY>2246</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_number_of_open_child_cases_to_variable</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentId</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>ParentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Alert_If_ClusterId_Exist_in_Sys.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Alert_Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>To check if there are any child cases that are not closed. If all are closed, the flow will close the parent case.</description>
        <name>Get_all_open_child_cases_by_status</name>
        <label>Get all open child cases by status</label>
        <locationX>1766</locationX>
        <locationY>2030</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_number_of_Status_Open_child_cases_to_variable</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentId</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>ParentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Alert_If_ClusterId_Exist_in_Sys.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get the ID of the &apos;Proactive Monitoring AP Queue&apos; to assign new cases created in this flow.</description>
        <name>Get_AP_Queue_ID</name>
        <label>Get AP Queue ID</label>
        <locationX>1370</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Alert_Case_Record_Type</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Queue</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Proactive_Monitoring_AP_Queue</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Group</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get the ID of the &apos;Proactive Monitoring Helpdesk Queue&apos; to assign new cases created in this flow.</description>
        <name>Get_Helpdesk_Queue_ID</name>
        <label>Get Helpdesk Queue ID</label>
        <locationX>1370</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_AP_Queue_ID</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Queue</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Proactive_Monitoring_Helpdesk_Queue</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Group</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_latest_Alert_case_info</name>
        <label>Get latest Alert case info</label>
        <locationX>1766</locationX>
        <locationY>1922</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_all_open_child_cases_by_status</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>uuid__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get the &apos;School&apos; record type ID to query the multi-event school in this flow</description>
        <name>Get_School_Account_Record_Type</name>
        <label>Get School Account Record Type</label>
        <locationX>1370</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>getDataFromJSONString</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Account</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>School</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>GetDummySchoolForFirewallDownAlert_0</name>
        <label>GetDummySchoolForFirewallDownAlert</label>
        <locationX>314</locationX>
        <locationY>1814</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_Parent_Cluster_Case_Alert_FirewallDown</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Proactive Monitoring - Multi Events School</stringValue>
            </value>
        </filters>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_School_Account_Record_Type.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Existing_Alert_Record</name>
        <label>Update Existing Alert Record</label>
        <locationX>1766</locationX>
        <locationY>1706</locationY>
        <connector>
            <targetReference>Update_Approx_Event_Date</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>uuid__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>getDataFromJSONString.Value01</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>getDataFromJSONString.Value02</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value07</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Comments__c</field>
            <value>
                <elementReference>AlertComments</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>getDataFromJSONString.Value04</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Grafana_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value13</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Link_to_Event_Manager__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value11</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Reason</field>
            <value>
                <elementReference>getDataFromJSONString.Value03</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_System_Link__c</field>
            <value>
                <elementReference>getDataFromJSONString.Value12</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <elementReference>caseStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <elementReference>getDataFromJSONString.Value16</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>getDataFromJSONString.Value05</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_the_non_cluster_case_status_to_new_when_alert_status_is_Open</name>
        <label>Update the non cluster case status to new when alert status is Open</label>
        <locationX>1370</locationX>
        <locationY>2570</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Alert_If_it_is_existing.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>New</stringValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_the_parent_case_alert_status_to_closed</name>
        <label>Update the parent case alert status to closed</label>
        <locationX>2162</locationX>
        <locationY>2570</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Alert_If_ClusterId_Exist_in_Sys.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_the_parent_case_alert_status_to_open</name>
        <label>Update the parent case alert status to open</label>
        <locationX>1634</locationX>
        <locationY>2570</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Alert_If_ClusterId_Exist_in_Sys.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_the_parent_case_status_and_alert_status_to_closed</name>
        <label>Update the parent case status and alert status to closed</label>
        <locationX>1898</locationX>
        <locationY>2570</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Alert_If_ClusterId_Exist_in_Sys.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_the_parent_case_status_to_new_when_alert_status_is_opened</name>
        <label>Update the parent case status to new when alert status is opened</label>
        <locationX>1106</locationX>
        <locationY>2570</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Alert_If_ClusterId_Exist_in_Sys.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>New</stringValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <start>
        <locationX>1244</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_Helpdesk_Queue_ID</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <textTemplates>
        <name>TestDate111</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>{!getDataFromJSONString.Value14}</text>
    </textTemplates>
    <variables>
        <name>CollectionOfUnclosedChildCases</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>currentItem_Filter_on_Unclosed_child_cases</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>currentItem_Final_Result_Of_Collection_Of_Unclosed_Child_Cases</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <description>The total number of open child cases</description>
        <name>numberOfOpenChildCases</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <description>Number of child cases where the status is not closed</description>
        <name>numberOfOpenStatusChildCases</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>PlatformServicesIntegrationRecords</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>N4l_Platform_services_integration__c</objectType>
    </variables>
    <variables>
        <name>SingleUnclosedChildCase</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>TestDate</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <elementReference>Get_Value_From_Outages_String.Value14</elementReference>
        </value>
    </variables>
</Flow>
