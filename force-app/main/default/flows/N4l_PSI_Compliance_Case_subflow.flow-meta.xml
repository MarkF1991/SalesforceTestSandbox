<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>GetDataFromJSONstring</name>
        <label>GetDataFromJSONstring</label>
        <locationX>908</locationX>
        <locationY>158</locationY>
        <actionName>MultipleJSONParser</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Get_case_record_type</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>fieldName1</name>
            <value>
                <stringValue>schoolSalesforceId</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName2</name>
            <value>
                <stringValue>alertType</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName3</name>
            <value>
                <stringValue>subject</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName4</name>
            <value>
                <stringValue>status</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName5</name>
            <value>
                <stringValue>alertDescription</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName6</name>
            <value>
                <stringValue>approxEventDate</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName7</name>
            <value>
                <stringValue>approxClosedDate</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName8</name>
            <value>
                <stringValue>comments</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName9</name>
            <value>
                <stringValue>salesforceLinks.Event Manager Link</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName10</name>
            <value>
                <stringValue>salesforceLinks.Source System Link</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName11</name>
            <value>
                <stringValue>complianceStatus</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName12</name>
            <value>
                <stringValue>_id</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName13</name>
            <value>
                <stringValue>alertClusterId</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName14</name>
            <value>
                <stringValue>reason</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>fieldName15</name>
            <value>
                <stringValue>alertMessage</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>ignore_error</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>jsonStringToParse</name>
            <value>
                <elementReference>PlatformServicesIntegrationRecords.Data__c</elementReference>
            </value>
        </inputParameters>
        <nameSegment>MultipleJSONParser</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>54.0</apiVersion>
    <decisions>
        <name>Distinguish_whether_we_create_or_update_compliance_case</name>
        <label>Distinguish whether we create or update compliance case</label>
        <locationX>908</locationX>
        <locationY>758</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Create_compliance_case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_compliance_case_if_it_exist_in_sys</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>GetDataFromJSONstring.Value13</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Compliance_case_creation</targetReference>
            </connector>
            <label>Create compliance case</label>
        </rules>
        <rules>
            <name>Create_parent_alert_and_with_child_compliance_case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_parent_compliance_case_if_it_is_existing</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>GetDataFromJSONstring.Value13</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_compliance_case_if_it_exist_in_sys</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_parent_of_cluster_case</targetReference>
            </connector>
            <label>Create parent alert and with child compliance case</label>
        </rules>
        <rules>
            <name>Create_child_cluster_compliance_case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_parent_compliance_case_if_it_is_existing</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_compliance_case_if_it_exist_in_sys</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>GetDataFromJSONstring.Value13</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_child_of_cluster_compliance_case</targetReference>
            </connector>
            <label>Create child cluster compliance case</label>
        </rules>
        <rules>
            <name>Update_existing_compliance_case</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_compliance_case_if_it_exist_in_sys</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_compliance_case_value</targetReference>
            </connector>
            <label>Update existing compliance case</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_old_status_equal_to_escalated_to_tier_2</name>
        <label>If old status equal to escalated to tier 2</label>
        <locationX>1282</locationX>
        <locationY>2054</locationY>
        <defaultConnectorLabel>child status never been escalated to tier 2 or closed</defaultConnectorLabel>
        <rules>
            <name>status_equal_to_escalated_to_tier_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Case_status_was_Escalated_to_Tier_2.OldValue</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Escalated To Tier2</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Loop_through_all_the_child_cases.Status</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Closed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Loop_through_all_the_child_cases.OwnerId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>00G</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_through_all_the_child_cases</targetReference>
            </connector>
            <label>status equal to escalated to tier 2</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_updated_child_case_status_was_Escalated_to_Tier_2</name>
        <label>If updated child case status was Escalated to Tier 2</label>
        <locationX>1238</locationX>
        <locationY>1574</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>go_further</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_compliance_case_if_it_exist_in_sys.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Escalated To Tier2</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_all_child_cases</targetReference>
            </connector>
            <label>go further</label>
        </rules>
    </decisions>
    <decisions>
        <name>Update_compliance_case_in_different_scenario</name>
        <label>Update compliance case in different scenario</label>
        <locationX>1238</locationX>
        <locationY>1118</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Case_status_should_be_Closed_Compliance_Issue_Resolved_when_alert_status_is_comp</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_updated_compliance_case.Alert_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Compliant</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_compliance_case_if_it_exist_in_sys.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Escalated To Tier2</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_the_status_to_Closed_Compliance_Issue_Resolved</targetReference>
            </connector>
            <label>Case status should be Closed - Compliance Issue Resolved when alert status is complaint</label>
        </rules>
        <rules>
            <name>Case_status_should_be_Closed_Compliance_Issue_Accepted_when_alert_status_Non_com</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_updated_compliance_case.Alert_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Non-Compliant Accepted</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_compliance_case_if_it_exist_in_sys.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Escalated To Tier2</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_the_status_to_Closed_Compliance_Issue_Accepted</targetReference>
            </connector>
            <label>Case status should be Closed - Compliance Issue Accepted when alert status Non-compliant Accepted</label>
        </rules>
    </decisions>
    <description>V21 -all changes incorporated
v22- fixed issue on Get parent case module</description>
    <environments>Default</environments>
    <formulas>
        <name>alertCaseStatus</name>
        <dataType>String</dataType>
        <expression>IF(lower({!GetDataFromJSONstring.Value04}) = &quot;closed&quot; &amp;&amp; lower({!GetDataFromJSONstring.Value11}) = &quot;accepted&quot;, &quot;Non-Compliant Accepted&quot;,
IF(lower({!GetDataFromJSONstring.Value04}) = &quot;open&quot;, &quot;Non-Compliant&quot;,
IF(lower({!GetDataFromJSONstring.Value04}) = &quot;closed&quot;, &quot;Compliant&quot;,
&apos;&apos;)))</expression>
    </formulas>
    <formulas>
        <name>ComplianceRestoredAcceptedDateTime</name>
        <dataType>DateTime</dataType>
        <expression>DATETIMEVALUE({!GetDataFromJSONstring.Value07})</expression>
    </formulas>
    <formulas>
        <description>The network name based on the alertMessage field in the JSON</description>
        <name>networkName</name>
        <dataType>String</dataType>
        <expression>{!GetDataFromJSONstring.Value15}</expression>
    </formulas>
    <formulas>
        <name>NonComplianceStartDateTime</name>
        <dataType>DateTime</dataType>
        <expression>DATETIMEVALUE({!GetDataFromJSONstring.Value06})</expression>
    </formulas>
    <interviewLabel>N4l PSI Compliance Case {!$Flow.CurrentDateTime}</interviewLabel>
    <label>N4l PSI Compliance Case subflow</label>
    <loops>
        <name>Loop_through_all_the_child_cases</name>
        <label>Loop through all the child cases</label>
        <locationX>1106</locationX>
        <locationY>1814</locationY>
        <collectionReference>Get_all_child_cases</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Case_status_was_Escalated_to_Tier_2</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_parent_case_status_to_Closed</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Compliance_case_creation</name>
        <label>Compliance case creation</label>
        <locationX>50</locationX>
        <locationY>878</locationY>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value01</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Id__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value12</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <elementReference>alertCaseStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Comments__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value08</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Compliance_Restored_Accepted_Date_Time__c</field>
            <value>
                <elementReference>ComplianceRestoredAcceptedDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value05</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Escalated_To_Tier2_Group__c</field>
            <value>
                <stringValue>Network Engineer Team</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Link_to_Event_Manager__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value09</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Network_Name__c</field>
            <value>
                <elementReference>networkName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Non_Compliance_Start_Date_Time__c</field>
            <value>
                <elementReference>NonComplianceStartDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Origin</field>
            <value>
                <stringValue>Compliance Monitoring System</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Get_queues.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_case_record_type.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_System_Link__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value10</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value03</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value14</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>uuid__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value12</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_child_of_cluster_case</name>
        <label>Create child of cluster case</label>
        <locationX>314</locationX>
        <locationY>998</locationY>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value01</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Id__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value12</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <elementReference>alertCaseStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Comments__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value08</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Compliance_Restored_Accepted_Date_Time__c</field>
            <value>
                <elementReference>ComplianceRestoredAcceptedDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value05</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Escalated_To_Tier2_Group__c</field>
            <value>
                <stringValue>Network Engineer Team</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Link_to_Event_Manager__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value09</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Network_Name__c</field>
            <value>
                <elementReference>networkName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Non_Compliance_Start_Date_Time__c</field>
            <value>
                <elementReference>NonComplianceStartDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Origin</field>
            <value>
                <stringValue>Compliance Monitoring System</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Get_queues.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>Create_parent_of_cluster_case</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_case_record_type.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_System_Link__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value10</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value03</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value14</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>uuid__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value12</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_child_of_cluster_compliance_case</name>
        <label>Create child of cluster compliance case</label>
        <locationX>578</locationX>
        <locationY>878</locationY>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value01</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Id__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value12</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <elementReference>alertCaseStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Comments__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value08</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Compliance_Restored_Accepted_Date_Time__c</field>
            <value>
                <elementReference>ComplianceRestoredAcceptedDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value05</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Escalated_To_Tier2_Group__c</field>
            <value>
                <stringValue>Network Engineer Team</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Link_to_Event_Manager__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value09</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Network_Name__c</field>
            <value>
                <elementReference>networkName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Non_Compliance_Start_Date_Time__c</field>
            <value>
                <elementReference>NonComplianceStartDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Origin</field>
            <value>
                <stringValue>Compliance Monitoring System</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Get_queues.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>Get_parent_compliance_case_if_it_is_existing.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_case_record_type.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_System_Link__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value10</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value03</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value14</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>uuid__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value12</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_parent_of_cluster_case</name>
        <label>Create parent of cluster case</label>
        <locationX>314</locationX>
        <locationY>878</locationY>
        <connector>
            <targetReference>Create_child_of_cluster_case</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value01</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Id__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value13</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <elementReference>alertCaseStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Comments__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value08</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Compliance_Restored_Accepted_Date_Time__c</field>
            <value>
                <elementReference>ComplianceRestoredAcceptedDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value05</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Escalated_To_Tier2_Group__c</field>
            <value>
                <stringValue>Network Engineer Team</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Link_to_Event_Manager__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value09</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Non_Compliance_Start_Date_Time__c</field>
            <value>
                <elementReference>NonComplianceStartDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Origin</field>
            <value>
                <stringValue>Compliance Monitoring System</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Get_queues.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_case_record_type.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_System_Link__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value10</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <stringValue>Compliance Monitoring - Multievents</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <stringValue>Compliance - Multievents</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>uuid__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value13</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>Case_status_was_Escalated_to_Tier_2</name>
        <label>Case status was Escalated to Tier 2</label>
        <locationX>1282</locationX>
        <locationY>1934</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>If_old_status_equal_to_escalated_to_tier_2</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>CaseId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Loop_through_all_the_child_cases.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Field</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Status</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>CaseHistory</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>OldValue</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_all_child_cases</name>
        <label>Get all child cases</label>
        <locationX>1106</locationX>
        <locationY>1694</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_through_all_the_child_cases</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentId</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>ParentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_parent_compliance_case_if_it_is_existing.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>Latest_updated_compliance_case.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_case_record_type</name>
        <label>Get case record type</label>
        <locationX>908</locationX>
        <locationY>278</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_queues</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Compliance case</stringValue>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Case</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_compliance_case_if_it_exist_in_sys</name>
        <label>Get compliance case if it exist in sys</label>
        <locationX>908</locationX>
        <locationY>518</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_parent_compliance_case_if_it_is_existing</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>uuid__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>GetDataFromJSONstring.Value12</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_parent_compliance_case_if_it_is_existing</name>
        <label>Get parent compliance case if it is existing</label>
        <locationX>908</locationX>
        <locationY>638</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Distinguish_whether_we_create_or_update_compliance_case</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>uuid__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>GetDataFromJSONstring.Value13</elementReference>
            </value>
        </filters>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Compliance - Multievents</stringValue>
            </value>
        </filters>
        <filters>
            <field>uuid__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_queues</name>
        <label>Get queues</label>
        <locationX>908</locationX>
        <locationY>398</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_compliance_case_if_it_exist_in_sys</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SE/NE Queue</stringValue>
            </value>
        </filters>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Queue</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Group</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_updated_compliance_case</name>
        <label>Get updated compliance case</label>
        <locationX>1238</locationX>
        <locationY>998</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Update_compliance_case_in_different_scenario</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>uuid__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>GetDataFromJSONstring.Value12</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Latest_updated_compliance_case</name>
        <label>Latest updated compliance case</label>
        <locationX>1238</locationX>
        <locationY>1454</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>If_updated_child_case_status_was_Escalated_to_Tier_2</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_compliance_case_if_it_exist_in_sys.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_compliance_case_value</name>
        <label>Update compliance case value</label>
        <locationX>1238</locationX>
        <locationY>878</locationY>
        <connector>
            <targetReference>Get_updated_compliance_case</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>uuid__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>GetDataFromJSONstring.Value12</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value01</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Alert_Status__c</field>
            <value>
                <elementReference>alertCaseStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Comments__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value08</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Compliance_Restored_Accepted_Date_Time__c</field>
            <value>
                <elementReference>ComplianceRestoredAcceptedDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value05</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Link_to_Event_Manager__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value09</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Network_Name__c</field>
            <value>
                <elementReference>networkName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Non_Compliance_Start_Date_Time__c</field>
            <value>
                <elementReference>NonComplianceStartDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_System_Link__c</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value10</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>GetDataFromJSONstring.Value14</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_parent_case_status_to_Closed</name>
        <label>Update parent case status to Closed</label>
        <locationX>1106</locationX>
        <locationY>2486</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_parent_compliance_case_if_it_is_existing.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_the_status_to_Closed_Compliance_Issue_Accepted</name>
        <label>Update the status to Closed - Compliance Issue Accepted</label>
        <locationX>1238</locationX>
        <locationY>1238</locationY>
        <connector>
            <targetReference>Latest_updated_compliance_case</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_compliance_case_if_it_exist_in_sys.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Closed - Compliance issue Accepted</stringValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_the_status_to_Closed_Compliance_Issue_Resolved</name>
        <label>Update the status to Closed - Compliance Issue Resolved</label>
        <locationX>974</locationX>
        <locationY>1238</locationY>
        <connector>
            <targetReference>Latest_updated_compliance_case</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_compliance_case_if_it_exist_in_sys.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Closed - Compliance Issue Resolved</stringValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <start>
        <locationX>782</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>GetDataFromJSONstring</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>currentItem_Status_did_not_from_Escalated_to_tier_2_0</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Case</objectType>
    </variables>
    <variables>
        <name>PlatformServicesIntegrationRecords</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>N4l_Platform_services_integration__c</objectType>
    </variables>
</Flow>
